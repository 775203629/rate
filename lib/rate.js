!function(t,e){"object"==typeof exports&&"object"==typeof module?module.exports=e():"function"==typeof define&&define.amd?define([],e):"object"==typeof exports?exports.rate=e():t.rate=e()}(this,function(){return function(t){function e(o){if(s[o])return s[o].exports;var i=s[o]={i:o,l:!1,exports:{}};return t[o].call(i.exports,i,i.exports,e),i.l=!0,i.exports}var s={};return e.m=t,e.c=s,e.i=function(t){return t},e.d=function(t,s,o){e.o(t,s)||Object.defineProperty(t,s,{configurable:!1,enumerable:!0,get:o})},e.n=function(t){var s=t&&t.__esModule?function(){return t.default}:function(){return t};return e.d(s,"a",s),s},e.o=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)},e.p="",e(e.s=5)}([function(t,e,s){var o=s(2)(s(4),s(3),null,null,null);o.options.__file="F:\\GitRepository\\rate\\src\\components\\Rate.vue",o.esModule&&Object.keys(o.esModule).some(function(t){return"default"!==t&&"__"!==t.substr(0,2)})&&console.error("named exports are not supported in *.vue files."),o.options.functional&&console.error("[vue-loader] Rate.vue: functional components are not supported with templates, they should use render functions."),t.exports=o.exports},function(t,e){},function(t,e){t.exports=function(t,e,s,o,i){var r,a=t=t||{},l=typeof t.default;"object"!==l&&"function"!==l||(r=t,a=t.default);var n="function"==typeof a?a.options:a;e&&(n.render=e.render,n.staticRenderFns=e.staticRenderFns),o&&(n._scopeId=o);var u;if(i?(u=function(t){t=t||this.$vnode&&this.$vnode.ssrContext||this.parent&&this.parent.$vnode&&this.parent.$vnode.ssrContext,t||"undefined"==typeof __VUE_SSR_CONTEXT__||(t=__VUE_SSR_CONTEXT__),s&&s.call(this,t),t&&t._registeredComponents&&t._registeredComponents.add(i)},n._ssrRegister=u):s&&(u=s),u){var c=n.functional,d=c?n.render:n.beforeCreate;c?n.render=function(t,e){return u.call(e),d(t,e)}:n.beforeCreate=d?[].concat(d,u):[u]}return{esModule:r,exports:a,options:n}}},function(t,e,s){t.exports={render:function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",{staticClass:"vm-rate"},[t._l(t.max,function(e){return s("span",{staticClass:"vm-rate__item",style:{cursor:t.disabled?"auto":"pointer"},on:{mousemove:function(s){t.setCurrentValue(e,s)},mouseleave:t.resetCurrentValue,click:function(s){t.selectValue(e)}}},[s("i",{staticClass:"vm-rate__icon",class:[t.classes[e-1],{hover:t.hoverIndex===e}],style:t.getIconStyle(e)},[t.showDecimalIcon(e)?s("i",{staticClass:"vm-rate__decimal",class:t.decimalIconClass,style:t.decimalStyle}):t._e()])])}),t.showText?s("span",{staticClass:"vm-rate__text",style:{color:t.textColor},domProps:{innerHTML:t._s(t.text)}}):t._e()],2)},staticRenderFns:[]},t.exports.render._withStripped=!0},function(t,e,s){"use strict";function o(t,e){if(!t||!e)return!1;if(e.indexOf(" ")>-1)throw new Error("className should not contain space.");return t.classList?t.classList.contains(e):(" "+t.className+" ").indexOf(" "+e+" ")>-1}Object.defineProperty(e,"__esModule",{value:!0}),e.default={name:"VmRate",componentName:"VmRate",props:{value:{type:Number,default:0},max:{type:Number,default:5},lowThreshold:{type:Number,default:2},highThreshold:{type:Number,default:4},disabled:{type:Boolean,default:!1},allowHalf:{type:Boolean,default:!1},colors:{type:Array,default:function(){return["#F7BA2A","#F7BA2A","#F7BA2A"]}},voidColor:{type:String,default:"#C6D1DE"},disabledVoidColor:{type:String,default:"#EFF2F7"},iconClasses:{type:Array,default:function(){return["vm-icon-star-full","vm-icon-star-full","vm-icon-star-full"]}},voidIconClass:{type:String,default:"vm-icon-star-empty"},disabledVoidIconClass:{type:String,default:"vm-icon-star-full"},showText:{type:Boolean,default:!1},texts:{type:Array,default:function(){return["极差","失望","一般","满意","惊喜"]}},textTemplate:{type:String,default:"{value}"},textColor:{type:String,default:"#1f2d3d"},textType:{type:String,default:"text"}},data:function(){return{colorMap:{},classMap:{},pointerAtLeftHalf:!0,currentValue:this.value,hoverIndex:-1}},watch:{value:function(t){this.value=t,this.$emit("change",t)}},computed:{text:function(){return this.disabled||"number"===this.textType?this.textTemplate.replace(/\{\s*value\s*\}/,"<i>"+this.currentValue+"</i>"):this.texts[Math.ceil(this.currentValue/(this.max/this.texts.length))-1]},voidClass:function(){return this.disabled?this.classMap.disabledVoidClass:this.classMap.voidClass},activeClass:function(){return this.getValueFromMap(this.currentValue,this.classMap)},classes:function(){var t=[],e=0,s=this.currentValue;for(this.allowHalf&&this.currentValue!==Math.floor(this.currentValue)&&s--;e<s;e++)t.push(this.activeClass);for(;e<this.max;e++)t.push(this.voidClass);return t},activeColor:function(){return this.getValueFromMap(this.currentValue,this.colorMap)},valueDecimal:function(){return 100*this.value-100*Math.floor(this.value)},decimalIconClass:function(){return this.getValueFromMap(this.value,this.classMap)},decimalStyle:function(){var t="";return this.disabled&&(t=(this.allowHalf?this.valueDecimal:0)+"%"),this.allowHalf&&!this.disabled&&(t="50%"),{color:this.activeColor,width:t}}},methods:{getValueFromMap:function(t,e){return t<=this.lowThreshold?e.lowColor||e.lowClass:t>=this.highThreshold?e.highColor||e.highClass:e.mediumColor||e.mediumClass},showDecimalIcon:function(t){var e=this.disabled&&this.valueDecimal&&t-1<this.value&&t>this.value,s=this.allowHalf&&this.pointerAtLeftHalf&&this.currentValue<t&&this.currentValue>=t-.5;return e||s},getIconStyle:function(t){var e=this.disabled?this.colorMap.disabledVoidColor:this.colorMap.voidColor;return{color:t<=this.currentValue?this.activeColor:e}},selectValue:function(t){this.disabled||(this.allowHalf&&this.pointerAtLeftHalf?this.$emit("input",this.currentValue):this.$emit("input",t))},setCurrentValue:function(t,e){if(!this.disabled){if(this.allowHalf){var s=e.target;o(s,"vm-rate__item")&&(s=s.querySelector(".vm-rate__icon")),o(s,"vm-rate__decimal")&&(s=s.parentNode),this.pointerAtLeftHalf=2*e.offsetX<=s.clientWidth,this.currentValue=this.pointerAtLeftHalf?t-.5:t}else this.currentValue=t;this.hoverIndex=t}},resetCurrentValue:function(){this.disabled||(this.allowHalf&&(this.pointerAtLeftHalf=this.value!==Math.floor(this.value)),this.currentValue=this.value,this.hoverIndex=-1)}},created:function(){this.value||this.$emit("input",0),this.colorMap={lowColor:this.colors[0],mediumColor:this.colors[1],highColor:this.colors[2],voidColor:this.voidColor,disabledVoidColor:this.disabledVoidColor},this.classMap={lowClass:this.iconClasses[0],mediumClass:this.iconClasses[1],highClass:this.iconClasses[2],voidClass:this.voidIconClass,disabledVoidClass:this.disabledVoidIconClass}}}},function(t,e,s){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var o=s(0),i=s.n(o),r=s(1);s.n(r);e.default=i.a}])});